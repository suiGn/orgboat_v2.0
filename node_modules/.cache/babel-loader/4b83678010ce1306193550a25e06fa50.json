{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\kgrob\\\\Documents\\\\Proyectos de programaci\\xF3n\\\\OrgBoat\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import socketIOClient from\"socket.io-client\";var ENDPOINT=\"http://localhost:5000\";function AddContact(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),findUsers=_useState4[0],setfindUsers=_useState4[1];function SearchUserByEmailOrUserName(){//console.log(email);\nvar socket=socketIOClient(ENDPOINT);var input=email;setEmail('');socket.emit(\"SearchUserByEmailOrUsername\",{email:input,usrname:input});socket.on(\"retrive SearchUserByEmailOrUsername\",function(data){//console.log(data);\nsetfindUsers(data.users);//console.log(findUsers);\n});}function AddUserContact(u_id){console.log(u_id);var socket=socketIOClient(ENDPOINT);socket.emit(\"AddContact\",{u_id:u_id});socket.on(\"retrive Addcontact\",function(mssg){console.log(mssg);socket.emit(\"init message\",{chat:mssg.chat,message:mssg.message});});socket.on('charge new contact',function(){socket.emit(\"get chats\");});}// useEffect(() => {\n//   console.log(email);\n// }, [email]);\nfunction handleEmail(e){setEmail(e.target.value);}return/*#__PURE__*/React.createElement(\"div\",{className:\"modal fade\",id:\"addFriends\",tabIndex:-1,role:\"dialog\",\"aria-hidden\":\"true\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-dialog modal-dialog-centered modal-dialog-zoom\",role:\"document\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-content\",id:\"modal-addcontact\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-header\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"modal-title\"},/*#__PURE__*/React.createElement(\"i\",{\"data-feather\":\"user-plus\",className:\"mr-2\"}),\" Add Contact\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"close\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"},/*#__PURE__*/React.createElement(\"i\",{className:\"ti-close\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-body\"},/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"emails\",className:\"col-form-label\"},\"Search by Email or Username\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",id:\"emails\",onChange:handleEmail})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"ul\",{className:\"list-group list-group-flush\",id:\"searchusers-list\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-footer\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-primary\",onClick:function onClick(){return SearchUserByEmailOrUserName();}},\"Submit\")),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",null,findUsers&&findUsers.length>0?findUsers.map(function(userf,index){return/*#__PURE__*/React.createElement(\"li\",{className:\"custom-modal-text\"},userf.name,/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:function onClick(){return AddUserContact(userf.u_id);},\"data-dismiss\":\"modal\",className:\"btn btn-primary ml-5 mt-2\"},\"Add\"));}):/*#__PURE__*/React.createElement(\"span\",null)))))));}export default AddContact;","map":{"version":3,"sources":["C:/Users/kgrob/Documents/Proyectos de programaciÃ³n/OrgBoat/src/components/AddContact.js"],"names":["React","useState","useEffect","socketIOClient","ENDPOINT","AddContact","props","email","setEmail","findUsers","setfindUsers","SearchUserByEmailOrUserName","socket","input","emit","usrname","on","data","users","AddUserContact","u_id","console","log","mssg","chat","message","handleEmail","e","target","value","length","map","userf","index","name"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport socketIOClient from \"socket.io-client\";\r\nconst ENDPOINT = \"http://localhost:5000\";\r\n\r\nfunction AddContact(props){\r\n  const [email,setEmail] = useState('');\r\n  const [findUsers,setfindUsers] = useState([]);\r\n  function SearchUserByEmailOrUserName() {\r\n    //console.log(email);\r\n    const socket = socketIOClient(ENDPOINT);\r\n    var input = email;\r\n    setEmail('');\r\n    socket.emit(\"SearchUserByEmailOrUsername\", { email: input, usrname: input });\r\n    socket.on(\"retrive SearchUserByEmailOrUsername\", (data) => {\r\n      //console.log(data);\r\n      setfindUsers(data.users);\r\n      //console.log(findUsers);\r\n    });\r\n  }\r\n\r\n  function AddUserContact(u_id) {\r\n    console.log(u_id);\r\n    const socket = socketIOClient(ENDPOINT);\r\n    socket.emit(\"AddContact\", { u_id: u_id });\r\n    socket.on(\"retrive Addcontact\", (mssg) => {\r\n      console.log(mssg);\r\n      socket.emit(\"init message\", {\r\n        chat: mssg.chat,\r\n        message: mssg.message,\r\n      });\r\n    });\r\n    socket.on('charge new contact',()=>{\r\n      socket.emit(\"get chats\");\r\n    })\r\n  }\r\n  // useEffect(() => {\r\n  //   console.log(email);\r\n  // }, [email]);\r\n\r\n  function handleEmail(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n    return(\r\n        <div className=\"modal fade\" id=\"addFriends\" tabIndex={-1} role=\"dialog\" aria-hidden=\"true\">\r\n  <div className=\"modal-dialog modal-dialog-centered modal-dialog-zoom\" role=\"document\">\r\n    <div className=\"modal-content\" id=\"modal-addcontact\">\r\n      <div className=\"modal-header\">\r\n        <h5 className=\"modal-title\">\r\n          <i data-feather=\"user-plus\" className=\"mr-2\" /> Add Contact\r\n        </h5>\r\n        <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n          <i className=\"ti-close\" />\r\n        </button>\r\n      </div>\r\n      <div className=\"modal-body\">\r\n        {/*<div class=\"alert alert-info\">Send invitations to Contact.</div>*/}\r\n        <form >\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"emails\" className=\"col-form-label\" >Search by Email or Username</label>\r\n            <input type=\"text\" className=\"form-control\" id=\"emails\" onChange={handleEmail}/>\r\n          </div>\r\n          <div>\r\n        <ul className=\"list-group list-group-flush\" id=\"searchusers-list\" />\r\n      </div>\r\n      <div className=\"modal-footer\">\r\n        <button type=\"button\" className=\"btn btn-primary\" onClick={() => SearchUserByEmailOrUserName()}>\r\n          Submit\r\n        </button>\r\n      </div>\r\n      <hr></hr>\r\n      <div>\r\n        {\r\n          findUsers && findUsers.length > 0 ? (\r\n            findUsers.map((userf, index) => {\r\n              return(\r\n                <li className=\"custom-modal-text\"> \r\n                  {userf.name}\r\n                  <button type=\"button\" onClick={() => AddUserContact(userf.u_id)} data-dismiss=\"modal\" className=\"btn btn-primary ml-5 mt-2\">Add</button>\r\n                </li>\r\n              );\r\n            })\r\n          ) : (\r\n            <span></span>\r\n          )\r\n        }\r\n      </div>\r\n      </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n    )\r\n}\r\n\r\nexport default AddContact;"]},"metadata":{},"sourceType":"module"}