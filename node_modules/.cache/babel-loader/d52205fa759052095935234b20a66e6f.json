{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\kgrob\\\\Documents\\\\Proyectos de programaci\\xF3n\\\\OrgBoat\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import socketIOClient from\"socket.io-client\";import{MoreHorizontal}from\"react-feather\";var ENDPOINT=\"http://localhost:5000\";function FriendSidebar(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),contact=_useState2[0],setContact=_useState2[1];var socket=socketIOClient(ENDPOINT);useEffect(function(){socket.emit(\"GetContacts\");socket.on(\"retrive GetContacts\",function(contacts){setContact(contacts);});},[]);function NewChat(userData){props.setNewChat(userData);socket.emit(\"newChat\",{chat_uid:userData.chat_uid});socket.on(\"retrive newchat\",function(){socket.emit(\"get chats\");});}return/*#__PURE__*/React.createElement(\"div\",{id:\"friends\",className:\"sidebar\"},/*#__PURE__*/React.createElement(\"header\",null,/*#__PURE__*/React.createElement(\"span\",null,\"Friends\"),/*#__PURE__*/React.createElement(\"ul\",{className:\"list-inline\"},/*#__PURE__*/React.createElement(\"li\",{className:\"list-inline-item\",\"data-toggle\":\"tooltip\",title:\"Add friends\"},/*#__PURE__*/React.createElement(\"a\",{className:\"btn btn-outline-light\",href:\"#\",\"data-toggle\":\"modal\",\"data-target\":\"#addFriends\"},/*#__PURE__*/React.createElement(\"i\",{\"data-feather\":\"user-plus\",className:\"mr-2\"}),\" Add Contact\")),/*#__PURE__*/React.createElement(\"li\",{className:\"list-inline-item d-xl-none d-inline\"},/*#__PURE__*/React.createElement(\"a\",{href:\"#\",className:\"btn btn-outline-light text-danger sidebar-close\"},/*#__PURE__*/React.createElement(\"i\",{\"data-feather\":\"x\"}))))),/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Search friends\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar-body\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"list-group list-group-flush\"},contact.chats&&contact.chats.map(function(user){var my_uid=contact.my_uid;if(user.chat_type===0){if(my_uid!=user.user_chat){var chat_name=user.name;var p;var chat_initial=chat_name.substring(0,1);if(user.pphoto===\"\"){p=/*#__PURE__*/React.createElement(\"span\",{className:\"avatar-title bg-info rounded-circle\"},chat_initial);}else{p=/*#__PURE__*/React.createElement(\"img\",{src:user.pphoto,className:\"rounded-circle\",alt:\"image\"});}return/*#__PURE__*/React.createElement(\"li\",{className:\"list-group-item\",i:user.chat_uid,n:chat_name,\"data-navigation-target\":\"chats\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"figure\",{className:\"avatar\"},p)),/*#__PURE__*/React.createElement(\"div\",{className:\"users-list-body\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h5\",{i:user.chat_uid,n:chat_name},chat_name),/*#__PURE__*/React.createElement(\"p\",null,chat_name)),/*#__PURE__*/React.createElement(\"div\",{className:\"users-list-action\"},/*#__PURE__*/React.createElement(\"div\",{className:\"action-toggle\"},/*#__PURE__*/React.createElement(\"div\",{className:\"dropdown\"},/*#__PURE__*/React.createElement(\"a\",{\"data-toggle\":\"dropdown\",href:\"#\"},/*#__PURE__*/React.createElement(MoreHorizontal,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"dropdown-menu dropdown-menu-right\"},/*#__PURE__*/React.createElement(\"a\",{href:\"#\",onClick:function onClick(){return NewChat(user);},className:\"dropdown-item\"},\"New chat\"),/*#__PURE__*/React.createElement(\"a\",{href:\"#\",\"data-navigation-target\":\"contact-information\",className:\"dropdown-item\"},\"Profile\"),/*#__PURE__*/React.createElement(\"div\",{className:\"dropdown-divider\"}),/*#__PURE__*/React.createElement(\"a\",{href:\"#\",className:\"dropdown-item text-danger\"},\"Block\")))))));}}}))));}export default FriendSidebar;","map":{"version":3,"sources":["C:/Users/kgrob/Documents/Proyectos de programaciÃ³n/OrgBoat/src/components/FriendSidebar.js"],"names":["React","useState","useEffect","socketIOClient","MoreHorizontal","ENDPOINT","FriendSidebar","props","contact","setContact","socket","emit","on","contacts","NewChat","userData","setNewChat","chat_uid","chats","map","user","my_uid","chat_type","user_chat","chat_name","name","p","chat_initial","substring","pphoto"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport socketIOClient from \"socket.io-client\";\r\nimport { MoreHorizontal } from \"react-feather\";\r\n\r\nconst ENDPOINT = \"http://localhost:5000\";\r\n\r\nfunction FriendSidebar(props) {\r\n  const [contact, setContact] = useState([]);\r\n  const socket = socketIOClient(ENDPOINT);\r\n  useEffect(() => {\r\n    socket.emit(\"GetContacts\");\r\n    socket.on(\"retrive GetContacts\", (contacts) => {\r\n      setContact(contacts);\r\n    });\r\n  }, []);\r\n  function NewChat(userData) {\r\n    props.setNewChat(userData);\r\n    socket.emit(\"newChat\", { chat_uid: userData.chat_uid });\r\n    socket.on(\"retrive newchat\", () => {\r\n      socket.emit(\"get chats\");\r\n    });\r\n  }\r\n  return (\r\n    <div id=\"friends\" className=\"sidebar\">\r\n      <header>\r\n        <span>Friends</span>\r\n        <ul className=\"list-inline\">\r\n          <li\r\n            className=\"list-inline-item\"\r\n            data-toggle=\"tooltip\"\r\n            title=\"Add friends\"\r\n          >\r\n            <a\r\n              className=\"btn btn-outline-light\"\r\n              href=\"#\"\r\n              data-toggle=\"modal\"\r\n              data-target=\"#addFriends\"\r\n            >\r\n              <i data-feather=\"user-plus\" className=\"mr-2\" /> Add Contact\r\n            </a>\r\n          </li>\r\n          <li className=\"list-inline-item d-xl-none d-inline\">\r\n            <a\r\n              href=\"#\"\r\n              className=\"btn btn-outline-light text-danger sidebar-close\"\r\n            >\r\n              <i data-feather=\"x\" />\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </header>\r\n      <form>\r\n        <input\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          placeholder=\"Search friends\"\r\n        />\r\n      </form>\r\n      <div className=\"sidebar-body\">\r\n        <ul className=\"list-group list-group-flush\">\r\n          {contact.chats &&\r\n            contact.chats.map((user) => {\r\n              let my_uid = contact.my_uid;\r\n              if (user.chat_type === 0) {\r\n                if (my_uid != user.user_chat) {\r\n                  let chat_name = user.name;\r\n                  let p;\r\n                  let chat_initial = chat_name.substring(0, 1);\r\n                  if (user.pphoto === \"\") {\r\n                    p = (\r\n                      <span className=\"avatar-title bg-info rounded-circle\">\r\n                        {chat_initial}\r\n                      </span>\r\n                    );\r\n                  } else {\r\n                    p = (\r\n                      <img\r\n                        src={user.pphoto}\r\n                        className=\"rounded-circle\"\r\n                        alt=\"image\"\r\n                      />\r\n                    );\r\n                  }\r\n                  return (\r\n                    <li\r\n                      className=\"list-group-item\"\r\n                      i={user.chat_uid}\r\n                      n={chat_name}\r\n                      data-navigation-target=\"chats\"\r\n                    >\r\n                      <div>\r\n                        <figure className=\"avatar\">{p}</figure>\r\n                      </div>\r\n                      <div className=\"users-list-body\">\r\n                        <div>\r\n                          <h5 i={user.chat_uid} n={chat_name}>\r\n                            {chat_name}\r\n                          </h5>\r\n                          <p>{chat_name}</p>\r\n                        </div>\r\n                        <div className=\"users-list-action\">\r\n                          <div className=\"action-toggle\">\r\n                            <div className=\"dropdown\">\r\n                              <a data-toggle=\"dropdown\" href=\"#\">\r\n                                <MoreHorizontal />\r\n                              </a>\r\n                              <div className=\"dropdown-menu dropdown-menu-right\">\r\n                                <a\r\n                                  href=\"#\"\r\n                                  onClick={() => NewChat(user)}\r\n                                  className=\"dropdown-item\"\r\n                                >\r\n                                  New chat\r\n                                </a>\r\n                                <a\r\n                                  href=\"#\"\r\n                                  data-navigation-target=\"contact-information\"\r\n                                  className=\"dropdown-item\"\r\n                                >\r\n                                  Profile\r\n                                </a>\r\n                                <div className=\"dropdown-divider\" />\r\n                                <a\r\n                                  href=\"#\"\r\n                                  className=\"dropdown-item text-danger\"\r\n                                >\r\n                                  Block\r\n                                </a>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </li>\r\n                  );\r\n                }\r\n              }\r\n            })}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FriendSidebar;\r\n"]},"metadata":{},"sourceType":"module"}