{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\kgrob\\\\Documents\\\\Proyectos de programaci\\xF3n\\\\OrgBoat\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import socketIOClient from\"socket.io-client\";import EditProfile from\"./EditProfile\";import{BrowserRouter as Redirect,Link}from\"react-router-dom\";import{User,MessageCircle,Star,Moon,Archive}from\"react-feather\";import blue_helm2 from\"../Images/blue_helm2.png\";import axios from\"axios\";import Cookies from\"universal-cookie\";var ENDPOINT=\"http://localhost:5000\";function Navigator(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),logout=_useState2[0],setLogout=_useState2[1];// useEffect(() => {\n//   renderRedirect();\n// }, []);\nvar cookies=new Cookies();function profiledata(id){var socket=socketIOClient(ENDPOINT);socket.emit(\"ViewOwnProfile\",{id:id});socket.on(\"retrieve viewownprofile\",function(data){props.setuserProfile(data);});}function getPhoto(){if(props.photo==\"\"){return/*#__PURE__*/React.createElement(\"figure\",{className:\"avatar\"},/*#__PURE__*/React.createElement(\"span\",{className:\"avatar-title bg-info rounded-circle\"},props.name.substring(0,1)));}else{return/*#__PURE__*/React.createElement(\"figure\",{class:\"avatar\"},/*#__PURE__*/React.createElement(\"img\",{src:props.photo,className:\"rounded-circle\",alt:\"image\"}));}}function logoutServer(){axios.get(\"/logout\").then(function(res){if(res.data.ok==true){//cookies.remove(\"SESSION_ID\", {path: \"/\", domain: \"localhost\"});\nwindow.location.reload();//setLogout(res.ok);\n//props.setloggedIn(false);\n}});// fetch(\"http://localhost:5000/logout\")\n//   .then((response) => {\n//     return response.json();\n//   })\n//   .then((data) => {\n//     setLogout(data.ok);\n//   });\n}// useEffect(() => {\n//   //props.setloggedIn(false);\n//   //renderRedirect();\n//   console.log(logout);\n//   window.location.reload();\n// }, [logout]);\n// const handleShow = () => props.setShow(true);\nvar renderRedirect=function renderRedirect(){if(logout){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}};return/*#__PURE__*/React.createElement(\"nav\",{className:\"navigation\"},/*#__PURE__*/React.createElement(\"div\",{className:\"nav-group\"},/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",{className:\"logo\"},/*#__PURE__*/React.createElement(\"a\",{href:\"#\"},/*#__PURE__*/React.createElement(\"img\",{src:blue_helm2,width:42,height:true,alt:\"Blue Helm\"}))),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"a\",{className:\"active\",\"data-navigation-target\":\"chats\",href:\"#\",\"data-toggle\":\"tooltip\",title:\"Chats\",\"data-placement\":\"right\"},/*#__PURE__*/React.createElement(\"span\",{className:\"badge badge-warning\"}),/*#__PURE__*/React.createElement(MessageCircle,null))),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"a\",{\"data-navigation-target\":\"friends\",href:\"#\",\"data-toggle\":\"tooltip\",title:\"Friends\",\"data-placement\":\"right\"},/*#__PURE__*/React.createElement(\"span\",{className:\"badge badge-danger\"}),/*#__PURE__*/React.createElement(User,null))),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"a\",{\"data-navigation-target\":\"favorites\",\"data-toggle\":\"tooltip\",title:\"Favorites\",\"data-placement\":\"right\",href:\"#\"},/*#__PURE__*/React.createElement(Star,null))),/*#__PURE__*/React.createElement(\"li\",{className:\"brackets\"},/*#__PURE__*/React.createElement(\"a\",{\"data-navigation-target\":\"archived\",href:\"#\",\"data-toggle\":\"tooltip\",title:\"Archived\",\"data-placement\":\"right\"},/*#__PURE__*/React.createElement(Archive,null))),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"a\",{href:\"#\",className:\"dark-light-switcher\",\"data-toggle\":\"tooltip\",title:\"Dark mode\",\"data-placement\":\"right\"},/*#__PURE__*/React.createElement(Moon,null))),/*#__PURE__*/React.createElement(\"li\",{\"data-toggle\":\"tooltip\",title:\"User menu\",\"data-placement\":\"right\"},/*#__PURE__*/React.createElement(\"a\",{href:\"./login.html\",\"data-toggle\":\"dropdown\"},getPhoto()),/*#__PURE__*/React.createElement(\"div\",{className:\"dropdown-menu\"},/*#__PURE__*/React.createElement(\"a\",{href:\"#\",className:\"dropdown-item\",\"data-toggle\":\"modal\",\"data-target\":\"#editProfileModal\",onClick:function onClick(){return profiledata(props.my_uid);}},\"Edit profile\"),/*#__PURE__*/React.createElement(\"a\",{href:\"#\",onClick:function onClick(){return profiledata(props.my_uid);},className:\"dropdown-item\",\"data-navigation-target\":\"contact-information\"},\"Profile\"),/*#__PURE__*/React.createElement(\"a\",{href:\"#\",className:\"dropdown-item\",\"data-toggle\":\"modal\",\"data-target\":\"#settingModal\"},\"Settings\"),/*#__PURE__*/React.createElement(\"div\",{className:\"dropdown-divider\"}),/*#__PURE__*/React.createElement(Link,{to:\"/\"},/*#__PURE__*/React.createElement(\"button\",{href:\"/\",className:\"dropdown-item text-danger\",onClick:logoutServer},\"Logout\")))))));}export default Navigator;","map":{"version":3,"sources":["C:/Users/kgrob/Documents/Proyectos de programaciÃ³n/OrgBoat/src/components/Navigator.js"],"names":["React","useState","useEffect","socketIOClient","EditProfile","BrowserRouter","Redirect","Link","User","MessageCircle","Star","Moon","Archive","blue_helm2","axios","Cookies","ENDPOINT","Navigator","props","logout","setLogout","cookies","profiledata","id","socket","emit","on","data","setuserProfile","getPhoto","photo","name","substring","logoutServer","get","then","res","ok","window","location","reload","renderRedirect","my_uid"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport socketIOClient from \"socket.io-client\";\r\nimport EditProfile from \"./EditProfile\";\r\nimport { BrowserRouter as Redirect, Link } from \"react-router-dom\";\r\nimport { User, MessageCircle, Star, Moon, Archive } from \"react-feather\";\r\nimport blue_helm2 from \"../Images/blue_helm2.png\";\r\nimport axios from \"axios\";\r\nimport Cookies from \"universal-cookie\";\r\nconst ENDPOINT = \"http://localhost:5000\";\r\n\r\nfunction Navigator(props) {\r\n  const [logout, setLogout] = useState(false);\r\n  // useEffect(() => {\r\n  //   renderRedirect();\r\n  // }, []);\r\n  const cookies = new Cookies();\r\n  function profiledata(id) {\r\n    const socket = socketIOClient(ENDPOINT);\r\n\r\n    socket.emit(\"ViewOwnProfile\", { id: id });\r\n    socket.on(\"retrieve viewownprofile\", function (data) {\r\n      props.setuserProfile(data);\r\n    });\r\n  }\r\n  function getPhoto() {\r\n    if (props.photo == \"\") {\r\n      return (\r\n        <figure className=\"avatar\">\r\n          <span className=\"avatar-title bg-info rounded-circle\">\r\n            {props.name.substring(0, 1)}\r\n          </span>\r\n        </figure>\r\n      );\r\n    } else {\r\n      return (\r\n        <figure class=\"avatar\">\r\n          <img src={props.photo} className=\"rounded-circle\" alt=\"image\" />\r\n        </figure>\r\n      );\r\n    }\r\n  }\r\n\r\n  function logoutServer() {\r\n    axios.get(\"/logout\").then((res) => {\r\n      if (res.data.ok == true) {\r\n        //cookies.remove(\"SESSION_ID\", {path: \"/\", domain: \"localhost\"});\r\n        window.location.reload();\r\n        //setLogout(res.ok);\r\n        //props.setloggedIn(false);\r\n      }\r\n    });\r\n\r\n    // fetch(\"http://localhost:5000/logout\")\r\n    //   .then((response) => {\r\n    //     return response.json();\r\n    //   })\r\n    //   .then((data) => {\r\n    //     setLogout(data.ok);\r\n    //   });\r\n  }\r\n  // useEffect(() => {\r\n  //   //props.setloggedIn(false);\r\n  //   //renderRedirect();\r\n  //   console.log(logout);\r\n  //   window.location.reload();\r\n  // }, [logout]);\r\n  // const handleShow = () => props.setShow(true);\r\n\r\n  const renderRedirect = () => {\r\n    if (logout) {\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n  };\r\n  return (\r\n    <nav className=\"navigation\">\r\n      <div className=\"nav-group\">\r\n        <ul>\r\n          <li className=\"logo\">\r\n            <a href=\"#\">\r\n              <img src={blue_helm2} width={42} height alt=\"Blue Helm\" />\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <a\r\n              className=\"active\"\r\n              data-navigation-target=\"chats\"\r\n              href=\"#\"\r\n              data-toggle=\"tooltip\"\r\n              title=\"Chats\"\r\n              data-placement=\"right\"\r\n            >\r\n              <span className=\"badge badge-warning\"></span>\r\n              <MessageCircle />\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <a\r\n              data-navigation-target=\"friends\"\r\n              href=\"#\"\r\n              data-toggle=\"tooltip\"\r\n              title=\"Friends\"\r\n              data-placement=\"right\"\r\n            >\r\n              <span className=\"badge badge-danger\"></span>\r\n              <User />\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <a\r\n              data-navigation-target=\"favorites\"\r\n              data-toggle=\"tooltip\"\r\n              title=\"Favorites\"\r\n              data-placement=\"right\"\r\n              href=\"#\"\r\n            >\r\n              <Star />\r\n            </a>\r\n          </li>\r\n          <li className=\"brackets\">\r\n            <a\r\n              data-navigation-target=\"archived\"\r\n              href=\"#\"\r\n              data-toggle=\"tooltip\"\r\n              title=\"Archived\"\r\n              data-placement=\"right\"\r\n            >\r\n              <Archive />\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <a\r\n              href=\"#\"\r\n              className=\"dark-light-switcher\"\r\n              data-toggle=\"tooltip\"\r\n              title=\"Dark mode\"\r\n              data-placement=\"right\"\r\n            >\r\n              <Moon />\r\n            </a>\r\n          </li>\r\n          <li data-toggle=\"tooltip\" title=\"User menu\" data-placement=\"right\">\r\n            <a href=\"./login.html\" data-toggle=\"dropdown\">\r\n              {/* <figure className=\"avatar\">\r\n                <img\r\n                  src=\"http://via.placeholder.com/128X128\"\r\n                  className=\"rounded-circle\"\r\n                  alt=\"image\"\r\n                />\r\n              </figure> */}\r\n              {getPhoto()}\r\n            </a>\r\n            <div className=\"dropdown-menu\">\r\n              <a\r\n                href=\"#\"\r\n                className=\"dropdown-item\"\r\n                data-toggle=\"modal\"\r\n                data-target=\"#editProfileModal\"\r\n                onClick={() => profiledata(props.my_uid)}\r\n              >\r\n                Edit profile\r\n              </a>\r\n              <a\r\n                href=\"#\"\r\n                onClick={() => profiledata(props.my_uid)}\r\n                className=\"dropdown-item\"\r\n                data-navigation-target=\"contact-information\"\r\n              >\r\n                Profile\r\n              </a>\r\n              <a\r\n                href=\"#\"\r\n                className=\"dropdown-item\"\r\n                data-toggle=\"modal\"\r\n                data-target=\"#settingModal\"\r\n              >\r\n                Settings\r\n              </a>\r\n              <div className=\"dropdown-divider\"></div>\r\n              <Link to=\"/\">\r\n                <button\r\n                  href=\"/\"\r\n                  className=\"dropdown-item text-danger\"\r\n                  onClick={logoutServer}\r\n                >\r\n                  Logout\r\n                </button>\r\n              </Link>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Navigator;\r\n"]},"metadata":{},"sourceType":"module"}