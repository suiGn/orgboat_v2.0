{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\kgrob\\\\Documents\\\\Proyectos de programaci\\xF3n\\\\OrgBoat\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\kgrob\\\\Documents\\\\Proyectos de programaci\\xF3n\\\\OrgBoat\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\kgrob\\\\Documents\\\\Proyectos de programaci\\xF3n\\\\OrgBoat\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect}from\"react\";// import { ReactComponent as Logo } from \"../assets/logo.svg\";\nimport{ReactComponent as Logo}from\"@svgr/webpack?-svgo,+titleProp,+ref!../assets/icons/blue_helm2.svg\";function ResetPassword(){useEffect(function(){return document.body.classList.add(\"form-membership\");},[]);var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),rstEmail=_useState2[0],setMail=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),submit=_useState4[0],setSubmit=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),ok=_useState6[0],setOk=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),msg=_useState8[0],setMesage=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),msg2=_useState10[0],setMsg2=_useState10[1];function handleChange(e){setMail(e.target.value);}useEffect(function(){},[]);function handleSubmit(e){e.preventDefault();setSubmit(true);if(!rstEmail){return;}var requestOptions={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({rstEmail:rstEmail})}(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/rstpwd\",requestOptions);case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;setOk(data.ok);console.log(data.ok);if(data.ok){setMesage(\"Please check your inbox to reset your password\");console.log(msg);//return(<Response mgs=\"Please check your inbox to reset your password\" msg2 =\"Sent Successfully\"/>)\n}else{//return(<Response mgs=\"Please try again.\" msg2 =\"Error\"/>)\n}case 9:case\"end\":return _context.stop();}}},_callee);})))();}return/*#__PURE__*/React.createElement(\"div\",{className:\"form-wrapper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"logo\"},/*#__PURE__*/React.createElement(Logo,null)),/*#__PURE__*/React.createElement(\"h5\",null,\"Reset password\"),/*#__PURE__*/React.createElement(\"form\",{name:\"reset\",onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Username or email\",required:true,autoFocus:true,name:\"rstEmail\",value:rstEmail,onChange:handleChange})),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary btn-block\"},\"Submit\"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"p\",{className:\"text-muted\"},\"Take a different action.\"),/*#__PURE__*/React.createElement(\"a\",{href:\"/sign-up\",className:\"btn btn-sm btn-outline-light mr-1\"},\"Register now!\"),\"or\",/*#__PURE__*/React.createElement(\"a\",{href:\"/sign-in\",className:\"btn btn-sm btn-outline-light ml-1\"},\"Login!\")));}export default ResetPassword;","map":{"version":3,"sources":["C:/Users/kgrob/Documents/Proyectos de programaciÃ³n/OrgBoat/src/Pages/ResetPassword.js"],"names":["React","useEffect","ResetPassword","document","body","classList","add","useState","rstEmail","setMail","submit","setSubmit","ok","setOk","msg","setMesage","msg2","setMsg2","handleChange","e","target","value","handleSubmit","preventDefault","requestOptions","method","headers","JSON","stringify","fetch","response","json","data","console","log"],"mappings":"ujBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA;uGAGA,QAASC,CAAAA,aAAT,EAAyB,CACvBD,SAAS,CAAC,iBAAME,CAAAA,QAAQ,CAACC,IAAT,CAAcC,SAAd,CAAwBC,GAAxB,CAA4B,iBAA5B,CAAN,EAAD,CAAuD,EAAvD,CAAT,CADuB,cAEKC,QAAQ,CAAC,EAAD,CAFb,wCAEhBC,QAFgB,eAENC,OAFM,8BAGKF,QAAQ,CAAC,KAAD,CAHb,yCAGhBG,MAHgB,eAGRC,SAHQ,8BAIHJ,QAAQ,CAAC,KAAD,CAJL,yCAIhBK,EAJgB,eAIZC,KAJY,8BAKEN,QAAQ,CAAC,EAAD,CALV,yCAKhBO,GALgB,eAKXC,SALW,8BAMCR,QAAQ,CAAC,EAAD,CANT,0CAMhBS,IANgB,gBAMVC,OANU,gBAOvB,QAASC,CAAAA,YAAT,CAAsBC,CAAtB,CAAyB,CACvBV,OAAO,CAACU,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CACD,CACDpB,SAAS,CAAC,UAAM,CAAE,CAAT,CAAW,EAAX,CAAT,CACA,QAASqB,CAAAA,YAAT,CAAsBH,CAAtB,CAAyB,CACvBA,CAAC,CAACI,cAAF,GACAZ,SAAS,CAAC,IAAD,CAAT,CACA,GAAI,CAACH,QAAL,CAAe,CACb,OACD,CACD,GAAMgB,CAAAA,cAAc,CAAG,CACrBC,MAAM,CAAE,MADa,CAErBC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAFY,CAGrBtB,IAAI,CAAEuB,IAAI,CAACC,SAAL,CAAe,CAAEpB,QAAQ,CAARA,QAAF,CAAf,CAHe,uEAIrB,2KACuBqB,CAAAA,KAAK,CAAC,SAAD,CAAYL,cAAZ,CAD5B,QACMM,QADN,qCAEmBA,CAAAA,QAAQ,CAACC,IAAT,EAFnB,QAEMC,IAFN,eAGAnB,KAAK,CAACmB,IAAI,CAACpB,EAAN,CAAL,CACAqB,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACpB,EAAjB,EACA,GAAIoB,IAAI,CAACpB,EAAT,CAAa,CACXG,SAAS,CAAC,gDAAD,CAAT,CACAkB,OAAO,CAACC,GAAR,CAAYpB,GAAZ,EACA;AACD,CAJD,IAIO,CACL;AACD,CAXD,sDAJqB,KAAvB,CAiBD,CACD,mBACE,2BAAK,SAAS,CAAC,cAAf,eACE,2BAAK,SAAS,CAAC,MAAf,eACE,oBAAC,IAAD,MADF,CADF,cAIE,+CAJF,cAKE,4BAAM,IAAI,CAAC,OAAX,CAAmB,QAAQ,CAAEQ,YAA7B,eACE,2BAAK,SAAS,CAAC,YAAf,eACE,6BACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,cAFZ,CAGE,WAAW,CAAC,mBAHd,CAIE,QAAQ,KAJV,CAKE,SAAS,KALX,CAME,IAAI,CAAC,UANP,CAOE,KAAK,CAAEd,QAPT,CAQE,QAAQ,CAAEU,YARZ,EADF,CADF,cAaE,8BAAQ,SAAS,CAAC,2BAAlB,WAbF,cAcE,8BAdF,cAeE,yBAAG,SAAS,CAAC,YAAb,6BAfF,cAgBE,yBAAG,IAAI,CAAC,UAAR,CAAmB,SAAS,CAAC,mCAA7B,kBAhBF,mBAoBE,yBAAG,IAAI,CAAC,UAAR,CAAmB,SAAS,CAAC,mCAA7B,WApBF,CALF,CADF,CAgCD,CAED,cAAehB,CAAAA,aAAf","sourcesContent":["import React, { useEffect } from \"react\";\r\n// import { ReactComponent as Logo } from \"../assets/logo.svg\";\r\nimport { ReactComponent as Logo } from \"../assets/icons/blue_helm2.svg\";\r\n\r\nfunction ResetPassword() {\r\n  useEffect(() => document.body.classList.add(\"form-membership\"), []);\r\n  const [rstEmail, setMail] = useState(\"\");\r\n  const [submit, setSubmit] = useState(false);\r\n  const [ok, setOk] = useState(false);\r\n  const [msg, setMesage] = useState(\"\");\r\n  const [msg2, setMsg2] = useState(\"\");\r\n  function handleChange(e) {\r\n    setMail(e.target.value);\r\n  }\r\n  useEffect(() => {}, []);\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setSubmit(true);\r\n    if (!rstEmail) {\r\n      return;\r\n    }\r\n    const requestOptions = {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ rstEmail }),\r\n    }(async () => {\r\n      const response = await fetch(\"/rstpwd\", requestOptions);\r\n      const data = await response.json();\r\n      setOk(data.ok);\r\n      console.log(data.ok);\r\n      if (data.ok) {\r\n        setMesage(\"Please check your inbox to reset your password\");\r\n        console.log(msg);\r\n        //return(<Response mgs=\"Please check your inbox to reset your password\" msg2 =\"Sent Successfully\"/>)\r\n      } else {\r\n        //return(<Response mgs=\"Please try again.\" msg2 =\"Error\"/>)\r\n      }\r\n    })();\r\n  }\r\n  return (\r\n    <div className=\"form-wrapper\">\r\n      <div className=\"logo\">\r\n        <Logo />\r\n      </div>\r\n      <h5>Reset password</h5>\r\n      <form name=\"reset\" onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"Username or email\"\r\n            required\r\n            autoFocus\r\n            name=\"rstEmail\"\r\n            value={rstEmail}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <button className=\"btn btn-primary btn-block\">Submit</button>\r\n        <hr />\r\n        <p className=\"text-muted\">Take a different action.</p>\r\n        <a href=\"/sign-up\" className=\"btn btn-sm btn-outline-light mr-1\">\r\n          Register now!\r\n        </a>\r\n        or\r\n        <a href=\"/sign-in\" className=\"btn btn-sm btn-outline-light ml-1\">\r\n          Login!\r\n        </a>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ResetPassword;\r\n"]},"metadata":{},"sourceType":"module"}