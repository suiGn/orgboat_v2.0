{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\kgrob\\\\Documents\\\\Proyectos de programaci\\xF3n\\\\OrgBoat\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import socketIOClient from\"socket.io-client\";var ENDPOINT=\"http://localhost:5000\";function AddContact(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),findUsers=_useState4[0],setfindUsers=_useState4[1];function SearchUserByEmailOrUserName(){var socket=socketIOClient(ENDPOINT);var input=email;setEmail(\"\");socket.emit(\"SearchUserByEmailOrUsername\",{email:input,usrname:input});socket.on(\"retrive SearchUserByEmailOrUsername\",function(data){setfindUsers(data.users);});}function AddUserContact(u_id){var socket=socketIOClient(ENDPOINT);socket.emit(\"AddContact\",{u_id:u_id});socket.on(\"retrive Addcontact\",function(mssg){socket.emit(\"init message\",{chat:mssg.chat,message:mssg.message});});socket.on(\"charge new contact\",function(){socket.emit(\"get chats\");});}function handleEmail(e){setEmail(e.target.value);}return/*#__PURE__*/React.createElement(\"div\",{className:\"modal fade\",id:\"addFriends\",tabIndex:-1,role:\"dialog\",\"aria-hidden\":\"true\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-dialog modal-dialog-centered modal-dialog-zoom\",role:\"document\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-content\",id:\"modal-addcontact\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-header\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"modal-title\"},/*#__PURE__*/React.createElement(\"i\",{\"data-feather\":\"user-plus\",className:\"mr-2\"}),\" Add Contact\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"close\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"},/*#__PURE__*/React.createElement(\"i\",{className:\"ti-close\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-body\"},/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"emails\",className:\"col-form-label\"},\"Search by Email or Username\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",id:\"emails\",onChange:handleEmail})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"ul\",{className:\"list-group list-group-flush\",id:\"searchusers-list\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-footer\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-primary\",onClick:function onClick(){return SearchUserByEmailOrUserName();}},\"Submit\")),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",null,findUsers&&findUsers.length>0?findUsers.map(function(userf,index){return/*#__PURE__*/React.createElement(\"li\",{className:\"custom-modal-text\"},userf.name,/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:function onClick(){return AddUserContact(userf.u_id);},\"data-dismiss\":\"modal\",className:\"btn btn-primary ml-5 mt-2\"},\"Add\"));}):/*#__PURE__*/React.createElement(\"span\",null)))))));}export default AddContact;","map":{"version":3,"sources":["C:/Users/kgrob/Documents/Proyectos de programaciÃ³n/OrgBoat/src/components/AddContact.js"],"names":["React","useState","useEffect","socketIOClient","ENDPOINT","AddContact","props","email","setEmail","findUsers","setfindUsers","SearchUserByEmailOrUserName","socket","input","emit","usrname","on","data","users","AddUserContact","u_id","mssg","chat","message","handleEmail","e","target","value","length","map","userf","index","name"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport socketIOClient from \"socket.io-client\";\r\nconst ENDPOINT = \"http://localhost:5000\";\r\n\r\nfunction AddContact(props) {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [findUsers, setfindUsers] = useState([]);\r\n  function SearchUserByEmailOrUserName() {\r\n    const socket = socketIOClient(ENDPOINT);\r\n    var input = email;\r\n    setEmail(\"\");\r\n    socket.emit(\"SearchUserByEmailOrUsername\", {\r\n      email: input,\r\n      usrname: input,\r\n    });\r\n    socket.on(\"retrive SearchUserByEmailOrUsername\", (data) => {\r\n      setfindUsers(data.users);\r\n    });\r\n  }\r\n\r\n  function AddUserContact(u_id) {\r\n    const socket = socketIOClient(ENDPOINT);\r\n    socket.emit(\"AddContact\", { u_id: u_id });\r\n    socket.on(\"retrive Addcontact\", (mssg) => {\r\n      socket.emit(\"init message\", {\r\n        chat: mssg.chat,\r\n        message: mssg.message,\r\n      });\r\n    });\r\n    socket.on(\"charge new contact\", () => {\r\n      socket.emit(\"get chats\");\r\n    });\r\n  }\r\n  function handleEmail(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n  return (\r\n    <div\r\n      className=\"modal fade\"\r\n      id=\"addFriends\"\r\n      tabIndex={-1}\r\n      role=\"dialog\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div\r\n        className=\"modal-dialog modal-dialog-centered modal-dialog-zoom\"\r\n        role=\"document\"\r\n      >\r\n        <div className=\"modal-content\" id=\"modal-addcontact\">\r\n          <div className=\"modal-header\">\r\n            <h5 className=\"modal-title\">\r\n              <i data-feather=\"user-plus\" className=\"mr-2\" /> Add Contact\r\n            </h5>\r\n            <button\r\n              type=\"button\"\r\n              className=\"close\"\r\n              data-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n            >\r\n              <i className=\"ti-close\" />\r\n            </button>\r\n          </div>\r\n          <div className=\"modal-body\">\r\n            {/*<div class=\"alert alert-info\">Send invitations to Contact.</div>*/}\r\n            <form>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"emails\" className=\"col-form-label\">\r\n                  Search by Email or Username\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"emails\"\r\n                  onChange={handleEmail}\r\n                />\r\n              </div>\r\n              <div>\r\n                <ul\r\n                  className=\"list-group list-group-flush\"\r\n                  id=\"searchusers-list\"\r\n                />\r\n              </div>\r\n              <div className=\"modal-footer\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-primary\"\r\n                  onClick={() => SearchUserByEmailOrUserName()}\r\n                >\r\n                  Submit\r\n                </button>\r\n              </div>\r\n              <hr></hr>\r\n              <div>\r\n                {findUsers && findUsers.length > 0 ? (\r\n                  findUsers.map((userf, index) => {\r\n                    return (\r\n                      <li className=\"custom-modal-text\">\r\n                        {userf.name}\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={() => AddUserContact(userf.u_id)}\r\n                          data-dismiss=\"modal\"\r\n                          className=\"btn btn-primary ml-5 mt-2\"\r\n                        >\r\n                          Add\r\n                        </button>\r\n                      </li>\r\n                    );\r\n                  })\r\n                ) : (\r\n                  <span></span>\r\n                )}\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddContact;\r\n"]},"metadata":{},"sourceType":"module"}