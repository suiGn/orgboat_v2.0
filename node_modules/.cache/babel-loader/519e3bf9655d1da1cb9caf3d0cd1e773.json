{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\kgrob\\\\Documents\\\\Proyectos de programaci\\xF3n\\\\OrgBoat\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import socketIOClient from\"socket.io-client\";import Navigator from\"./Navigator.js\";import ChatSidebar from\"./ChatSidebar\";import ArchiveSidebar from\"./ArchiveSidebar\";import FriendSidebar from\"./FriendSidebar\";import FavoriteSidebar from\"./FavoriteSidebar\";import ChatBody from\"./ChatBody\";import Profile from\"./Profile.js\";import EditProfile from\"./EditProfile\";import AddContact from\"./AddContact\";var ENDPOINT=\"http://localhost:5000/\";function Workspace(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),response=_useState2[0],setResponse=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),clicked=_useState4[0],setClicked=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),userProfile=_useState6[0],setuserProfile=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),chatMessages=_useState8[0],setChatMessages=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),showEditProfile=_useState10[0],setShowEditProfile=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),showContact=_useState12[0],setShowContact=_useState12[1];var chats;var currentPage=0;var socket=socketIOClient(ENDPOINT);useEffect(function(){socket.on(\"retrieve chats\",function(response){setResponse(response);});// socket.on(\"retrieve messages\", (response) => {\n//   setChatMessages((chatMessages) => [...chatMessages, response]);\n//   console.log(\"messages\", response);\n// });\ncurrentPage=currentPage+1;socket.emit(\"get messages\",{id:clicked,page:currentPage});},[ENDPOINT]);var my_uid=response.my_uid;var photo=response.photo;var name=response.name;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(EditProfile,{my_uid:my_uid,userProfile:userProfile,show:showEditProfile}),/*#__PURE__*/React.createElement(AddContact,{my_uid:my_uid,show:showContact}),/*#__PURE__*/React.createElement(\"div\",{className:\"layout\"},/*#__PURE__*/React.createElement(Navigator,{my_uid:my_uid,photo:photo,name:name,setuserProfile:setuserProfile,setEditProfile:setShowEditProfile}),/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar-group\"},/*#__PURE__*/React.createElement(ChatSidebar,{clicked:clicked,setClicked:setClicked,response:response,setuserProfile:setuserProfile}),/*#__PURE__*/React.createElement(ArchiveSidebar,{clicked:clicked,setClicked:setClicked,response:response}),/*#__PURE__*/React.createElement(FriendSidebar,{setClicked:setClicked,setContact:setShowContact}),/*#__PURE__*/React.createElement(FavoriteSidebar,null)),/*#__PURE__*/React.createElement(ChatBody,{my_uid:my_uid,clicked:clicked,setuserProfile:setuserProfile}),/*#__PURE__*/React.createElement(Profile,{userProfile:userProfile}))));}export default Workspace;","map":{"version":3,"sources":["C:/Users/kgrob/Documents/Proyectos de programaciÃ³n/OrgBoat/src/components/Workspace.js"],"names":["React","useState","useEffect","socketIOClient","Navigator","ChatSidebar","ArchiveSidebar","FriendSidebar","FavoriteSidebar","ChatBody","Profile","EditProfile","AddContact","ENDPOINT","Workspace","response","setResponse","clicked","setClicked","userProfile","setuserProfile","chatMessages","setChatMessages","showEditProfile","setShowEditProfile","showContact","setShowContact","chats","currentPage","socket","on","emit","id","page","my_uid","photo","name"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport socketIOClient from \"socket.io-client\";\r\nimport Navigator from \"./Navigator.js\";\r\nimport ChatSidebar from \"./ChatSidebar\";\r\nimport ArchiveSidebar from \"./ArchiveSidebar\";\r\nimport FriendSidebar from \"./FriendSidebar\";\r\nimport FavoriteSidebar from \"./FavoriteSidebar\";\r\nimport ChatBody from \"./ChatBody\";\r\nimport Profile from \"./Profile.js\";\r\nimport EditProfile from \"./EditProfile\";\r\nimport AddContact from \"./AddContact\";\r\nconst ENDPOINT = \"http://localhost:5000/\";\r\n\r\nfunction Workspace() {\r\n  const [response, setResponse] = useState([]);\r\n  const [clicked, setClicked] = useState([]);\r\n  const [userProfile, setuserProfile] = useState([]);\r\n  const [chatMessages, setChatMessages] = useState([]);\r\n  const [showEditProfile, setShowEditProfile] = useState(false);\r\n  const [showContact, setShowContact] = useState(false);\r\n\r\n  let chats;\r\n  let currentPage = 0;\r\n  const socket = socketIOClient(ENDPOINT);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"retrieve chats\", (response) => {\r\n      setResponse(response);\r\n    });\r\n\r\n    // socket.on(\"retrieve messages\", (response) => {\r\n    //   setChatMessages((chatMessages) => [...chatMessages, response]);\r\n    //   console.log(\"messages\", response);\r\n    // });\r\n    currentPage = currentPage + 1;\r\n    socket.emit(\"get messages\", { id: clicked, page: currentPage });\r\n  }, [ENDPOINT]);\r\n\r\n  let my_uid = response.my_uid;\r\n  let photo = response.photo;\r\n  let name = response.name;\r\n\r\n  return (\r\n    <div>\r\n      <EditProfile\r\n        my_uid={my_uid}\r\n        userProfile={userProfile}\r\n        show={showEditProfile}\r\n      />\r\n      <AddContact my_uid={my_uid} show={showContact} />\r\n      <div className=\"layout\">\r\n        <Navigator\r\n          my_uid={my_uid}\r\n          photo={photo}\r\n          name={name}\r\n          setuserProfile={setuserProfile}\r\n          setEditProfile={setShowEditProfile}\r\n        />\r\n        <div className=\"content\">\r\n          <div className=\"sidebar-group\">\r\n            <ChatSidebar\r\n              clicked={clicked}\r\n              setClicked={setClicked}\r\n              response={response}\r\n              setuserProfile={setuserProfile}\r\n            />\r\n            <ArchiveSidebar\r\n              clicked={clicked}\r\n              setClicked={setClicked}\r\n              response={response}\r\n            />\r\n            <FriendSidebar\r\n              setClicked={setClicked}\r\n              setContact={setShowContact}\r\n            />\r\n            <FavoriteSidebar />\r\n          </div>\r\n          <ChatBody\r\n            my_uid={my_uid}\r\n            clicked={clicked}\r\n            setuserProfile={setuserProfile}\r\n          />\r\n          <Profile userProfile={userProfile} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Workspace;\r\n"]},"metadata":{},"sourceType":"module"}